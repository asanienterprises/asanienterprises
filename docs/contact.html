<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Contact | Asani Enterprises</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="Contact Asani Enterprises to request a consultant.">

  <link rel="icon" type="image/png" sizes="32x32"
    href="https://raw.githubusercontent.com/asanienterprises/asanienterprises/main/docs/assets/logo-email.png">
  <link rel="icon" type="image/png" sizes="16x16"
    href="https://raw.githubusercontent.com/asanienterprises/asanienterprises/main/docs/assets/logo-email.png">

  <!-- STYLES UNCHANGED -->
  <style>
    :root{--white:#fff;--black:#0a0a0a;--gray:#5f5f5f;--gray2:#7a7a7a;--line:#e6e6e6;--gold:#b08d3b;--container:1180px;--serif:Georgia,"Times New Roman",serif;--sans:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif}
    *{box-sizing:border-box}
    body{margin:0;font-family:var(--sans);color:var(--black);background:#fff;overflow-x:hidden}
    a{color:inherit;text-decoration:none}
    .container{width:min(var(--container),calc(100% - 48px));margin:0 auto}
    header{border-bottom:1px solid var(--line);background:#fff;position:sticky;top:0;z-index:50}
    /* rest of CSS unchanged */
  </style>
</head>

<body>
<!-- BODY / HEADER / CONTENT UNCHANGED -->

<!-- … everything above remains exactly the same … -->

<script>
  document.getElementById('year').textContent = new Date().getFullYear();

  (function(){
    // mobile menu logic unchanged
    const openBtn = document.getElementById('openMenu');
    const closeBtn = document.getElementById('closeMenu');
    const drawer = document.getElementById('mobileDrawer');
    const overlay = document.getElementById('mobileOverlay');

    function openMenu(){
      overlay.hidden = false;
      overlay.classList.add('open');
      drawer.classList.add('open');
      drawer.setAttribute('aria-hidden','false');
      openBtn.setAttribute('aria-expanded','true');
      document.body.style.overflow='hidden';
    }
    function closeMenu(){
      drawer.classList.remove('open');
      overlay.classList.remove('open');
      drawer.setAttribute('aria-hidden','true');
      openBtn.setAttribute('aria-expanded','false');
      document.body.style.overflow='';
      setTimeout(()=>{ overlay.hidden = true; }, 180);
    }

    openBtn && openBtn.addEventListener('click', openMenu);
    closeBtn && closeBtn.addEventListener('click', closeMenu);
    overlay && overlay.addEventListener('click', closeMenu);
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeMenu(); });

    /* ===== FORM SUBMISSION (REPLACED) ===== */

    const ENDPOINT = "https://asanienterprises.com/api/contact";
    const form = document.getElementById("mailform");

    if (form) {
      form.addEventListener("submit", async function(e){
        e.preventDefault();

        const btn = form.querySelector("button[type='submit']");
        btn.disabled = true;
        btn.textContent = "Sending…";

        const payload = {
          name:  document.getElementById("name").value.trim(),
          org:   document.getElementById("org").value.trim(),
          email: document.getElementById("email").value.trim(),
          phone: document.getElementById("phone").value.trim(),
          topic: document.getElementById("topic").value.trim(),
          message: document.getElementById("msg").value.trim(),
          company_website: "" // honeypot
        };

        try {
          const res = await fetch(ENDPOINT, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload)
          });

          if (res.ok) {
            form.reset();
            btn.textContent = "Request sent";
            alert("Thank you. Your request has been received and a confirmation email has been sent.");
          } else {
            btn.disabled = false;
            btn.textContent = "Send request";
            alert("We could not submit your request at this time. Please try again shortly.");
          }
        } catch {
          btn.disabled = false;
          btn.textContent = "Send request";
          alert("Network error. Please try again shortly.");
        }
      });
    }
  })();
</script>
</body>
</html>
